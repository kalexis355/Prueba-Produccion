<div>
<form [formGroup]="CarpetaForm" (ngSubmit)="onSaveClick()">

<mat-dialog-content class="col mb-0">
  <h4>Crear una carpeta nueva</h4>
  <div class="col mt-3" >

   <div class="mb-3">
    <label class="form-label">Nombre de la Carpeta:</label>
    <input class="form-control" formControlName="nombreCarpeta" type="text" required />
   </div>

   <div class="mb-3">
    <label class="form-label">Descripci贸n de la Carpeta:</label>
    <input class="form-control" formControlName="descripcion" type="text" required />
   </div>


    <div class="text-start mb-2">
      <label >Seleccionar Estado Carpeta</label>
      <select class="form-select w-100 mb-3"
       formControlName="carpetaEstado"
       aria-label="Selecci贸n de estado">
        <option selected >Seleccionar Estado carpeta</option>
        <option *ngFor="let estado of estadoCarpeta"
         [value]="estado.Cod">
        {{ estado.Nombre }}
        </option>
      </select>
    </div>

    <div class="text-start mb-2">
      <label >Seleccionar Tipo Carpeta</label>
      <select class="form-select w-100 mb-3"
       formControlName="tipoCarpeta"
       (change)="onTipoChange($event)"
       aria-label="Selecci贸n de Tipo">
        <option *ngFor="let tipo of tiposCarpetas ; let i = index"
         [value]="tipo.Cod"
        [disabled]="i === 0|| (i === 1 && data.esSerieOSubserie)">
        {{ tipo.Nombre }}
        </option>
      </select>
    </div>


    <div class="mb-3" *ngIf="subserieActiva">
      <label class="form-label">SubSerie:</label>
      <input class="form-control" formControlName="codigoSubSerie" type="number" required />
     </div>

    <div class="mb-3" *ngIf="nivelVisualizacionActivo">
      <label class="form-label">Nivel Visualizaci贸n:</label>
      <select class="form-select w-100 mb-3"
      formControlName="nivelVisualizacion"
      aria-label="Seleccionar Nivel">
       <option >Seleccionar Nivel</option>

       <option *ngFor="let nivel of NivelVisualizacion"
        [value]="nivel.Cod">
       {{ nivel.Nombre }}
       </option>
     </select>
    </div>

    <div class="text-start mb-2">
      <label >Seleccionar delegado</label>
      <select class="form-select w-100 mb-3"
       formControlName="delegado"
       aria-label="Seleccionar Delegado">
        <option >Seleccionar Delegado</option>

        <option *ngFor="let usuario of usuarios"
         [value]="usuario.Cod">
        {{ usuario.Nombres }}
        </option>
      </select>
    </div>

  </div>

</mat-dialog-content>

<mat-dialog-actions
  class=" text-end">
  <button class="btn btn-danger me-3"  (click)="onNoClick()">Cancelar</button>
  <button class="btn btn-primary"  [disabled]="CarpetaForm.invalid" >Aceptar</button>
</mat-dialog-actions>

</form>
